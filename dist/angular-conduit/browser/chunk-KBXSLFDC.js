import{a as I}from"./chunk-44BUM23C.js";import{$ as f,Aa as v,C as l,Da as w,Fa as b,Ia as S,O as s,P as u,Qa as y,Z as p,bb as F,da as a,ea as n,f as r,fb as C,gb as _,ma as c,sa as m,ta as g,ua as d,wa as h}from"./chunk-IKINXWTP.js";var k=(i,j,e)=>({disabled:i,"btn-outline-secondary":j,"btn-secondary":e}),z=(()=>{class i{constructor(e,o,t){this.profileService=e,this.router=o,this.userService=t,this.toggle=new f,this.isSubmitting=!1,this.destroyRef=s(p)}toggleFollowing(){this.isSubmitting=!0,this.userService.isAuthenticated.pipe(l(e=>e?this.profile.following?this.profileService.unfollow(this.profile.username):this.profileService.follow(this.profile.username):(this.router.navigate(["/login"]),r)),_(this.destroyRef)).subscribe({next:e=>{this.isSubmitting=!1,this.toggle.emit(e)},error:()=>this.isSubmitting=!1})}static{this.\u0275fac=function(o){return new(o||i)(n(I),n(F),n(C))}}static{this.\u0275cmp=u({type:i,selectors:[["app-follow-button"]],inputs:{profile:"profile"},outputs:{toggle:"toggle"},standalone:!0,features:[b],decls:3,vars:7,consts:[[1,"btn","btn-sm","action-btn",3,"click","ngClass"],[1,"ion-plus-round"]],template:function(o,t){o&1&&(m(0,"button",0),h("click",function(){return t.toggleFollowing()}),d(1,"i",1),v(2),g()),o&2&&(c("ngClass",S(3,k,t.isSubmitting,!t.profile.following,t.profile.following)),a(2),w(" \xA0 ",t.profile.following?"Unfollow":"Follow"," ",t.profile.username," "))},dependencies:[y],encapsulation:2})}}return i})();export{z as a};
