import{a as w}from"./chunk-R7MM33JK.js";import{$ as C,Aa as f,C as S,Ca as v,Fa as d,Ha as g,Ia as k,Ja as _,La as j,O as y,P as c,Qa as E,Ta as M,Z as b,bb as I,ca as D,cb as A,da as o,ea as l,f as h,fb as L,gb as R,ma as a,sa as s,ta as n,ua as p,wa as F,ya as u,za as m}from"./chunk-IKINXWTP.js";var P=["*"],B=e=>["/profile",e],x=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=c({type:e,selectors:[["app-article-meta"]],inputs:{article:"article"},standalone:!0,features:[d],ngContentSelectors:P,decls:10,vars:12,consts:[[1,"article-meta"],[3,"routerLink"],[3,"src"],[1,"info"],[1,"author",3,"routerLink"],[1,"date"]],template:function(i,t){i&1&&(u(),s(0,"div",0)(1,"a",1),p(2,"img",2),n(),s(3,"div",3)(4,"a",4),f(5),n(),s(6,"span",5),f(7),_(8,"date"),n()(),m(9),n()),i&2&&(o(),a("routerLink",g(8,B,t.article.author.username)),o(),a("src",t.article.author.image,D),o(2),a("routerLink",g(10,B,t.article.author.username)),o(),v(" ",t.article.author.username," "),o(2),v(" ",j(8,5,t.article.createdAt,"longDate")," "))},dependencies:[A,M],encapsulation:2,changeDetection:0})}}return e})();var z=["*"],N=(e,T,r)=>({disabled:e,"btn-outline-primary":T,"btn-primary":r}),te=(()=>{class e{constructor(r,i,t){this.articleService=r,this.router=i,this.userService=t,this.destroyRef=y(b),this.isSubmitting=!1,this.toggle=new C}toggleFavorite(){this.isSubmitting=!0,this.userService.isAuthenticated.pipe(S(r=>r?this.article.favorited?this.articleService.unfavorite(this.article.slug):this.articleService.favorite(this.article.slug):(this.router.navigate(["/register"]),h)),R(this.destroyRef)).subscribe({next:()=>{this.isSubmitting=!1,this.toggle.emit(!this.article.favorited)},error:()=>this.isSubmitting=!1})}static{this.\u0275fac=function(i){return new(i||e)(l(w),l(I),l(L))}}static{this.\u0275cmp=c({type:e,selectors:[["app-favorite-button"]],inputs:{article:"article"},outputs:{toggle:"toggle"},standalone:!0,features:[d],ngContentSelectors:z,decls:3,vars:5,consts:[[1,"btn","btn-sm",3,"click","ngClass"],[1,"ion-heart"]],template:function(i,t){i&1&&(u(),s(0,"button",0),F("click",function(){return t.toggleFavorite()}),p(1,"i",1),m(2),n()),i&2&&a("ngClass",k(1,N,t.isSubmitting,!t.article.favorited,t.article.favorited))},dependencies:[E],encapsulation:2})}}return e})();export{x as a,te as b};
