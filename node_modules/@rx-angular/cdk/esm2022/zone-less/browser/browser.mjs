import { getZoneUnPatchedApi } from '@rx-angular/cdk/internals/core';
/**
 * This file provides unpatched versions of APIs patched in the following file: https://github.com/angular/angular/blob/master/packages/zone.js/lib/browser/browser.ts
 */
/**
 * This function is a zone un-patched implementation of Window#queueMicrotask() method.
 * It is which is exposed on the Window or Worker interface,
 * queues a microtask to be executed at a safe time prior to control returning to the browser's event loop.
 * The microtask is a short function which will run after the current task has completed its
 * work and when there is no other code waiting to be run before control of the execution context is returned to the browser's event loop.
 */
export function queueMicrotask() {
    return getZoneUnPatchedApi('queueMicrotask');
}
export const Promise = getZoneUnPatchedApi('Promise');
/**
 * requestAnimationFrame
 *
 * @description
 *
 * This function is a zone un-patched implementation of Window#requestAnimationFrame() method
 *
 * The requestAnimationFrame() method calls a function or evaluates an expression on the next animationFrame.
 * The requestAnimationFrame() method will not continue calling the function after executed once.
 * The ID value returned by requestAnimationFrame() is used as the parameter for the cancelAnimationFrame() method.
 *
 * requestAnimationFrame(cb, ms);
 *
 * @param cb - Required. The function that will be executed
 *
 */
export function requestAnimationFrame(cb) {
    return getZoneUnPatchedApi('requestAnimationFrame')(cb);
}
/**
 * cancelAnimationFrame
 *
 * @description
 *
 * This function is a zone un-patched implementation of Window cancelAnimationFrame() method
 *
 * The cancelAnimationFrame() method clears a timer set with the requestAnimationFrame() method.
 * The ID value returned by requestAnimationFrame() is used as the parameter for the cancelAnimationFrame() method.
 *
 * To be able to use the cancelAnimationFrame() method, you must use a variable when creating the requestAnimationFrame method:
 *
 * const id = requestAnimationFrame("javascript function");
 * Then you will be able to stop the execution by calling the cancelAnimationFrame() method.
 *
 * cancelAnimationFrame(id);
 *
 * @param id {number} - Required. The ID value of the timer returned by the requestAnimationFrame() method
 *
 */
export function cancelAnimationFrame(id) {
    getZoneUnPatchedApi('cancelAnimationFrame')(id);
}
/**
 * setInterval
 *
 * @description
 *
 * This function is a zone un-patched implementation of Window setInterval() method
 *
 * The setInterval() method calls a function or evaluates an expression at specified intervals (in milliseconds).
 * The setInterval() method will continue calling the function until clearInterval() is called, or the window is closed.
 * The ID value returned by setInterval() is used as the parameter for the clearInterval() method.
 *
 * setInterval(cb, ms);
 *
 * @param cb - Required. The function that will be executed
 * @param ms - Required. The intervals (in milliseconds) on how often to execute the code. If the value is less than 10, the value 10 is used
 *
 */
export function setInterval(cb, ms = 0) {
    return getZoneUnPatchedApi('setInterval')(cb, ms);
}
/**
 * clearInterval
 *
 * @description
 *
 * This function is a zone un-patched implementation of Window clearInterval() method
 *
 * The clearInterval() method clears a timer set with the setInterval() method.
 * The ID value returned by setInterval() is used as the parameter for the clearInterval() method.
 *
 * To be able to use the clearInterval() method, you must use a variable when creating the interval method:
 *
 * const id = setInterval("javascript function", milliseconds);
 * Then you will be able to stop the execution by calling the clearInterval() method.
 *
 * clearInterval(id);
 *
 * @param id {number} - Required. The ID value of the timer returned by the setInterval() method
 *
 */
export function clearInterval(id) {
    return getZoneUnPatchedApi('clearInterval')(id);
}
/**
 * setTimeout
 *
 * @description
 *
 * This function is a zone un-patched implementation of Window setTimeout() method
 *
 * The setTimeout() method calls a function or evaluates an expression after a specified number of milliseconds.
 * The function is only executed once. If you need to repeat execution, use the setInterval() method.
 * Use the clearTimeout() method to prevent the function from running.
 *
 * setTimeout(cb, ms);
 *
 * @param cb - Required. The function that will be executed
 * @param ms - Optional. The number of milliseconds to wait before executing the code. If omitted, the value 0 is used
 *
 */
export function setTimeout(cb, ms = 0) {
    return getZoneUnPatchedApi('setTimeout')(cb, ms);
}
/**
 * clearTimeout
 *
 * @description
 *
 * This function is a zone un-patched implementation of Window#clearTimeout() method
 *
 * The clearTimeout() method clears a timer set with the setTimeout() method.
 * The ID value returned by setTimeout() is used as the parameter for the clearTimeout() method.
 *
 * const id = setTimeout("javascript function", milliseconds);
 * Then, if the function has not already been executed, you will be able to stop the execution by calling the clearTimeout() method.
 *
 * clearTimeout(id);
 *
 * @param id {number} -	Required. The ID value of the timer returned by the setTimeout() method
 *
 */
export function clearTimeout(id) {
    getZoneUnPatchedApi('clearTimeout')(id);
}
/**
 * This function is a zone un-patched implementation of Element#addEventListener() method.
 * @param target
 */
export function unpatchAddEventListener(target) {
    target.addEventListener = getZoneUnPatchedApi(target, 'addEventListener').bind(target);
    return target;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnJvd3Nlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY2RrL3pvbmUtbGVzcy9icm93c2VyL3NyYy9icm93c2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRXJFOztHQUVHO0FBRUg7Ozs7OztHQU1HO0FBQ0gsTUFBTSxVQUFVLGNBQWM7SUFDNUIsT0FBTyxtQkFBbUIsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQXVCLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBRTFFOzs7Ozs7Ozs7Ozs7Ozs7R0FlRztBQUNILE1BQU0sVUFBVSxxQkFBcUIsQ0FBQyxFQUF3QjtJQUM1RCxPQUFPLG1CQUFtQixDQUFDLHVCQUF1QixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDMUQsQ0FBQztBQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUJHO0FBRUgsTUFBTSxVQUFVLG9CQUFvQixDQUFDLEVBQVU7SUFDN0MsbUJBQW1CLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNsRCxDQUFDO0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7R0FnQkc7QUFDSCxNQUFNLFVBQVUsV0FBVyxDQUFDLEVBQWdCLEVBQUUsRUFBRSxHQUFHLENBQUM7SUFDbEQsT0FBTyxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDcEQsQ0FBQztBQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUJHO0FBQ0gsTUFBTSxVQUFVLGFBQWEsQ0FBQyxFQUFVO0lBQ3RDLE9BQU8sbUJBQW1CLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDbEQsQ0FBQztBQUVEOzs7Ozs7Ozs7Ozs7Ozs7O0dBZ0JHO0FBQ0gsTUFBTSxVQUFVLFVBQVUsQ0FBQyxFQUFnQixFQUFFLEVBQUUsR0FBRyxDQUFDO0lBQ2pELE9BQU8sbUJBQW1CLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ25ELENBQUM7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpQkc7QUFDSCxNQUFNLFVBQVUsWUFBWSxDQUFDLEVBQVU7SUFDckMsbUJBQW1CLENBQUMsY0FBYyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDMUMsQ0FBQztBQUVEOzs7R0FHRztBQUNILE1BQU0sVUFBVSx1QkFBdUIsQ0FBd0IsTUFBUztJQUN0RSxNQUFNLENBQUMsZ0JBQWdCLEdBQUcsbUJBQW1CLENBQzNDLE1BQU0sRUFDTixrQkFBa0IsQ0FDbkIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFZixPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Wm9uZVVuUGF0Y2hlZEFwaSB9IGZyb20gJ0ByeC1hbmd1bGFyL2Nkay9pbnRlcm5hbHMvY29yZSc7XG5cbi8qKlxuICogVGhpcyBmaWxlIHByb3ZpZGVzIHVucGF0Y2hlZCB2ZXJzaW9ucyBvZiBBUElzIHBhdGNoZWQgaW4gdGhlIGZvbGxvd2luZyBmaWxlOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3pvbmUuanMvbGliL2Jyb3dzZXIvYnJvd3Nlci50c1xuICovXG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhIHpvbmUgdW4tcGF0Y2hlZCBpbXBsZW1lbnRhdGlvbiBvZiBXaW5kb3cjcXVldWVNaWNyb3Rhc2soKSBtZXRob2QuXG4gKiBJdCBpcyB3aGljaCBpcyBleHBvc2VkIG9uIHRoZSBXaW5kb3cgb3IgV29ya2VyIGludGVyZmFjZSxcbiAqIHF1ZXVlcyBhIG1pY3JvdGFzayB0byBiZSBleGVjdXRlZCBhdCBhIHNhZmUgdGltZSBwcmlvciB0byBjb250cm9sIHJldHVybmluZyB0byB0aGUgYnJvd3NlcidzIGV2ZW50IGxvb3AuXG4gKiBUaGUgbWljcm90YXNrIGlzIGEgc2hvcnQgZnVuY3Rpb24gd2hpY2ggd2lsbCBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgdGFzayBoYXMgY29tcGxldGVkIGl0c1xuICogd29yayBhbmQgd2hlbiB0aGVyZSBpcyBubyBvdGhlciBjb2RlIHdhaXRpbmcgdG8gYmUgcnVuIGJlZm9yZSBjb250cm9sIG9mIHRoZSBleGVjdXRpb24gY29udGV4dCBpcyByZXR1cm5lZCB0byB0aGUgYnJvd3NlcidzIGV2ZW50IGxvb3AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZU1pY3JvdGFzaygpIHtcbiAgcmV0dXJuIGdldFpvbmVVblBhdGNoZWRBcGkoJ3F1ZXVlTWljcm90YXNrJyk7XG59XG5cbmV4cG9ydCBjb25zdCBQcm9taXNlOiBQcm9taXNlQ29uc3RydWN0b3IgPSBnZXRab25lVW5QYXRjaGVkQXBpKCdQcm9taXNlJyk7XG5cbi8qKlxuICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhIHpvbmUgdW4tcGF0Y2hlZCBpbXBsZW1lbnRhdGlvbiBvZiBXaW5kb3cjcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCkgbWV0aG9kXG4gKlxuICogVGhlIHJlcXVlc3RBbmltYXRpb25GcmFtZSgpIG1ldGhvZCBjYWxscyBhIGZ1bmN0aW9uIG9yIGV2YWx1YXRlcyBhbiBleHByZXNzaW9uIG9uIHRoZSBuZXh0IGFuaW1hdGlvbkZyYW1lLlxuICogVGhlIHJlcXVlc3RBbmltYXRpb25GcmFtZSgpIG1ldGhvZCB3aWxsIG5vdCBjb250aW51ZSBjYWxsaW5nIHRoZSBmdW5jdGlvbiBhZnRlciBleGVjdXRlZCBvbmNlLlxuICogVGhlIElEIHZhbHVlIHJldHVybmVkIGJ5IHJlcXVlc3RBbmltYXRpb25GcmFtZSgpIGlzIHVzZWQgYXMgdGhlIHBhcmFtZXRlciBmb3IgdGhlIGNhbmNlbEFuaW1hdGlvbkZyYW1lKCkgbWV0aG9kLlxuICpcbiAqIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYiwgbXMpO1xuICpcbiAqIEBwYXJhbSBjYiAtIFJlcXVpcmVkLiBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiOiBGcmFtZVJlcXVlc3RDYWxsYmFjayk6IG51bWJlciB7XG4gIHJldHVybiBnZXRab25lVW5QYXRjaGVkQXBpKCdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKShjYik7XG59XG5cbi8qKlxuICogY2FuY2VsQW5pbWF0aW9uRnJhbWVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGEgem9uZSB1bi1wYXRjaGVkIGltcGxlbWVudGF0aW9uIG9mIFdpbmRvdyBjYW5jZWxBbmltYXRpb25GcmFtZSgpIG1ldGhvZFxuICpcbiAqIFRoZSBjYW5jZWxBbmltYXRpb25GcmFtZSgpIG1ldGhvZCBjbGVhcnMgYSB0aW1lciBzZXQgd2l0aCB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCkgbWV0aG9kLlxuICogVGhlIElEIHZhbHVlIHJldHVybmVkIGJ5IHJlcXVlc3RBbmltYXRpb25GcmFtZSgpIGlzIHVzZWQgYXMgdGhlIHBhcmFtZXRlciBmb3IgdGhlIGNhbmNlbEFuaW1hdGlvbkZyYW1lKCkgbWV0aG9kLlxuICpcbiAqIFRvIGJlIGFibGUgdG8gdXNlIHRoZSBjYW5jZWxBbmltYXRpb25GcmFtZSgpIG1ldGhvZCwgeW91IG11c3QgdXNlIGEgdmFyaWFibGUgd2hlbiBjcmVhdGluZyB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIG1ldGhvZDpcbiAqXG4gKiBjb25zdCBpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShcImphdmFzY3JpcHQgZnVuY3Rpb25cIik7XG4gKiBUaGVuIHlvdSB3aWxsIGJlIGFibGUgdG8gc3RvcCB0aGUgZXhlY3V0aW9uIGJ5IGNhbGxpbmcgdGhlIGNhbmNlbEFuaW1hdGlvbkZyYW1lKCkgbWV0aG9kLlxuICpcbiAqIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAqXG4gKiBAcGFyYW0gaWQge251bWJlcn0gLSBSZXF1aXJlZC4gVGhlIElEIHZhbHVlIG9mIHRoZSB0aW1lciByZXR1cm5lZCBieSB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCkgbWV0aG9kXG4gKlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWxBbmltYXRpb25GcmFtZShpZDogbnVtYmVyKTogdm9pZCB7XG4gIGdldFpvbmVVblBhdGNoZWRBcGkoJ2NhbmNlbEFuaW1hdGlvbkZyYW1lJykoaWQpO1xufVxuXG4vKipcbiAqIHNldEludGVydmFsXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhIHpvbmUgdW4tcGF0Y2hlZCBpbXBsZW1lbnRhdGlvbiBvZiBXaW5kb3cgc2V0SW50ZXJ2YWwoKSBtZXRob2RcbiAqXG4gKiBUaGUgc2V0SW50ZXJ2YWwoKSBtZXRob2QgY2FsbHMgYSBmdW5jdGlvbiBvciBldmFsdWF0ZXMgYW4gZXhwcmVzc2lvbiBhdCBzcGVjaWZpZWQgaW50ZXJ2YWxzIChpbiBtaWxsaXNlY29uZHMpLlxuICogVGhlIHNldEludGVydmFsKCkgbWV0aG9kIHdpbGwgY29udGludWUgY2FsbGluZyB0aGUgZnVuY3Rpb24gdW50aWwgY2xlYXJJbnRlcnZhbCgpIGlzIGNhbGxlZCwgb3IgdGhlIHdpbmRvdyBpcyBjbG9zZWQuXG4gKiBUaGUgSUQgdmFsdWUgcmV0dXJuZWQgYnkgc2V0SW50ZXJ2YWwoKSBpcyB1c2VkIGFzIHRoZSBwYXJhbWV0ZXIgZm9yIHRoZSBjbGVhckludGVydmFsKCkgbWV0aG9kLlxuICpcbiAqIHNldEludGVydmFsKGNiLCBtcyk7XG4gKlxuICogQHBhcmFtIGNiIC0gUmVxdWlyZWQuIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWRcbiAqIEBwYXJhbSBtcyAtIFJlcXVpcmVkLiBUaGUgaW50ZXJ2YWxzIChpbiBtaWxsaXNlY29uZHMpIG9uIGhvdyBvZnRlbiB0byBleGVjdXRlIHRoZSBjb2RlLiBJZiB0aGUgdmFsdWUgaXMgbGVzcyB0aGFuIDEwLCB0aGUgdmFsdWUgMTAgaXMgdXNlZFxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEludGVydmFsKGNiOiBUaW1lckhhbmRsZXIsIG1zID0gMCk6IG51bWJlciB7XG4gIHJldHVybiBnZXRab25lVW5QYXRjaGVkQXBpKCdzZXRJbnRlcnZhbCcpKGNiLCBtcyk7XG59XG5cbi8qKlxuICogY2xlYXJJbnRlcnZhbFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYSB6b25lIHVuLXBhdGNoZWQgaW1wbGVtZW50YXRpb24gb2YgV2luZG93IGNsZWFySW50ZXJ2YWwoKSBtZXRob2RcbiAqXG4gKiBUaGUgY2xlYXJJbnRlcnZhbCgpIG1ldGhvZCBjbGVhcnMgYSB0aW1lciBzZXQgd2l0aCB0aGUgc2V0SW50ZXJ2YWwoKSBtZXRob2QuXG4gKiBUaGUgSUQgdmFsdWUgcmV0dXJuZWQgYnkgc2V0SW50ZXJ2YWwoKSBpcyB1c2VkIGFzIHRoZSBwYXJhbWV0ZXIgZm9yIHRoZSBjbGVhckludGVydmFsKCkgbWV0aG9kLlxuICpcbiAqIFRvIGJlIGFibGUgdG8gdXNlIHRoZSBjbGVhckludGVydmFsKCkgbWV0aG9kLCB5b3UgbXVzdCB1c2UgYSB2YXJpYWJsZSB3aGVuIGNyZWF0aW5nIHRoZSBpbnRlcnZhbCBtZXRob2Q6XG4gKlxuICogY29uc3QgaWQgPSBzZXRJbnRlcnZhbChcImphdmFzY3JpcHQgZnVuY3Rpb25cIiwgbWlsbGlzZWNvbmRzKTtcbiAqIFRoZW4geW91IHdpbGwgYmUgYWJsZSB0byBzdG9wIHRoZSBleGVjdXRpb24gYnkgY2FsbGluZyB0aGUgY2xlYXJJbnRlcnZhbCgpIG1ldGhvZC5cbiAqXG4gKiBjbGVhckludGVydmFsKGlkKTtcbiAqXG4gKiBAcGFyYW0gaWQge251bWJlcn0gLSBSZXF1aXJlZC4gVGhlIElEIHZhbHVlIG9mIHRoZSB0aW1lciByZXR1cm5lZCBieSB0aGUgc2V0SW50ZXJ2YWwoKSBtZXRob2RcbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckludGVydmFsKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgcmV0dXJuIGdldFpvbmVVblBhdGNoZWRBcGkoJ2NsZWFySW50ZXJ2YWwnKShpZCk7XG59XG5cbi8qKlxuICogc2V0VGltZW91dFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYSB6b25lIHVuLXBhdGNoZWQgaW1wbGVtZW50YXRpb24gb2YgV2luZG93IHNldFRpbWVvdXQoKSBtZXRob2RcbiAqXG4gKiBUaGUgc2V0VGltZW91dCgpIG1ldGhvZCBjYWxscyBhIGZ1bmN0aW9uIG9yIGV2YWx1YXRlcyBhbiBleHByZXNzaW9uIGFmdGVyIGEgc3BlY2lmaWVkIG51bWJlciBvZiBtaWxsaXNlY29uZHMuXG4gKiBUaGUgZnVuY3Rpb24gaXMgb25seSBleGVjdXRlZCBvbmNlLiBJZiB5b3UgbmVlZCB0byByZXBlYXQgZXhlY3V0aW9uLCB1c2UgdGhlIHNldEludGVydmFsKCkgbWV0aG9kLlxuICogVXNlIHRoZSBjbGVhclRpbWVvdXQoKSBtZXRob2QgdG8gcHJldmVudCB0aGUgZnVuY3Rpb24gZnJvbSBydW5uaW5nLlxuICpcbiAqIHNldFRpbWVvdXQoY2IsIG1zKTtcbiAqXG4gKiBAcGFyYW0gY2IgLSBSZXF1aXJlZC4gVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZFxuICogQHBhcmFtIG1zIC0gT3B0aW9uYWwuIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGV4ZWN1dGluZyB0aGUgY29kZS4gSWYgb21pdHRlZCwgdGhlIHZhbHVlIDAgaXMgdXNlZFxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRpbWVvdXQoY2I6IFRpbWVySGFuZGxlciwgbXMgPSAwKTogbnVtYmVyIHtcbiAgcmV0dXJuIGdldFpvbmVVblBhdGNoZWRBcGkoJ3NldFRpbWVvdXQnKShjYiwgbXMpO1xufVxuXG4vKipcbiAqIGNsZWFyVGltZW91dFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYSB6b25lIHVuLXBhdGNoZWQgaW1wbGVtZW50YXRpb24gb2YgV2luZG93I2NsZWFyVGltZW91dCgpIG1ldGhvZFxuICpcbiAqIFRoZSBjbGVhclRpbWVvdXQoKSBtZXRob2QgY2xlYXJzIGEgdGltZXIgc2V0IHdpdGggdGhlIHNldFRpbWVvdXQoKSBtZXRob2QuXG4gKiBUaGUgSUQgdmFsdWUgcmV0dXJuZWQgYnkgc2V0VGltZW91dCgpIGlzIHVzZWQgYXMgdGhlIHBhcmFtZXRlciBmb3IgdGhlIGNsZWFyVGltZW91dCgpIG1ldGhvZC5cbiAqXG4gKiBjb25zdCBpZCA9IHNldFRpbWVvdXQoXCJqYXZhc2NyaXB0IGZ1bmN0aW9uXCIsIG1pbGxpc2Vjb25kcyk7XG4gKiBUaGVuLCBpZiB0aGUgZnVuY3Rpb24gaGFzIG5vdCBhbHJlYWR5IGJlZW4gZXhlY3V0ZWQsIHlvdSB3aWxsIGJlIGFibGUgdG8gc3RvcCB0aGUgZXhlY3V0aW9uIGJ5IGNhbGxpbmcgdGhlIGNsZWFyVGltZW91dCgpIG1ldGhvZC5cbiAqXG4gKiBjbGVhclRpbWVvdXQoaWQpO1xuICpcbiAqIEBwYXJhbSBpZCB7bnVtYmVyfSAtXHRSZXF1aXJlZC4gVGhlIElEIHZhbHVlIG9mIHRoZSB0aW1lciByZXR1cm5lZCBieSB0aGUgc2V0VGltZW91dCgpIG1ldGhvZFxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVGltZW91dChpZDogbnVtYmVyKTogdm9pZCB7XG4gIGdldFpvbmVVblBhdGNoZWRBcGkoJ2NsZWFyVGltZW91dCcpKGlkKTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGEgem9uZSB1bi1wYXRjaGVkIGltcGxlbWVudGF0aW9uIG9mIEVsZW1lbnQjYWRkRXZlbnRMaXN0ZW5lcigpIG1ldGhvZC5cbiAqIEBwYXJhbSB0YXJnZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVucGF0Y2hBZGRFdmVudExpc3RlbmVyPFQgZXh0ZW5kcyBFdmVudFRhcmdldD4odGFyZ2V0OiBUKTogVCB7XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyID0gZ2V0Wm9uZVVuUGF0Y2hlZEFwaShcbiAgICB0YXJnZXQsXG4gICAgJ2FkZEV2ZW50TGlzdGVuZXInXG4gICkuYmluZCh0YXJnZXQpO1xuXG4gIHJldHVybiB0YXJnZXQ7XG59XG4iXX0=