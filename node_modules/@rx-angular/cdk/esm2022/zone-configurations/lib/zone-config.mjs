import { convenienceMethods } from './convenience-methods';
import { zoneGlobalDisableConfigurationsKeys, zoneGlobalEventsConfigurationsKeys, zoneGlobalSettingsConfigurationsKeys, zoneRuntimeConfigurationsKeys, zoneTestDisableConfigurationsKeys, zoneTestSettingsConfigurationsKeys, } from './model/configurations.types';
const zoneDisable = '__Zone_disable_';
const zoneSymbol = '__zone_symbol__';
/**
 * https://angular.io/guide/zone#setting-up-zonejs
 **/
function assertZoneConfig() {
    if (window.Zone !== undefined) {
        // @TODO link to docs
        console.error('zone-flags file needs to get imported before zone.js');
    }
}
const addDisableFlag = (prop) => ({
    [prop]: () => {
        assertZoneConfig();
        return (window[zoneDisable + prop] = true);
    },
});
const addSymbolFlag = (prop) => ({
    [prop]: () => {
        assertZoneConfig();
        return (window[zoneSymbol + prop] = true);
    },
});
const addArraySymbolFlag = (prop) => ({
    [prop]: (eventNames) => {
        assertZoneConfig();
        const w = window;
        return (w[zoneSymbol + prop] = [
            ...(Array.isArray(w[zoneSymbol + prop]) ? w[zoneSymbol + prop] : []),
            ...eventNames,
        ]);
    },
});
const reduceToObject = (methodsArray) => {
    return methodsArray.reduce((map, item) => ({ ...map, ...item }), {});
};
/**
 * factory function to create a `RxZoneConfig` object.
 *
 * @Example
 * import { globalEvents,xhrEvent, zoneConfig} from '@rx-angular/cdk/zone-flags';
 *
 * const zoneConfig = createZoneFlagsConfigurator();
 *
 * zoneConfig.global.disable.requestAnimationFrame();
 * zoneConfig.global.disable.timers();
 * zoneConfig.events.disable.UNPATCHED_EVENTS([...globalEvents, ...xhrEvent]);
 *
 */
function createZoneFlagsConfigurator() {
    const cfg = globalThis;
    const configProps = [
        ...[
            ...zoneGlobalDisableConfigurationsKeys,
            ...zoneTestDisableConfigurationsKeys,
        ].map((prop) => zoneDisable + prop),
        ...[
            ...zoneGlobalSettingsConfigurationsKeys,
            ...zoneTestSettingsConfigurationsKeys,
            ...zoneGlobalEventsConfigurationsKeys,
            ...zoneRuntimeConfigurationsKeys,
        ].map((prop) => zoneSymbol + prop),
    ];
    // append as global method for easy debugging
    cfg.__rxa_zone_config__log = () => {
        configProps.forEach((flag) => {
            cfg[flag] && console.log(flag, cfg[flag]);
        });
    };
    const zoneConfigObj = {
        global: {
            disable: reduceToObject([
                ...zoneGlobalDisableConfigurationsKeys.map(addDisableFlag),
                ...zoneGlobalSettingsConfigurationsKeys.map(addSymbolFlag),
            ]),
        },
        test: {
            disable: reduceToObject([
                ...zoneTestDisableConfigurationsKeys.map(addDisableFlag),
                ...zoneTestSettingsConfigurationsKeys.map(addSymbolFlag),
            ]),
        },
        events: {
            disable: reduceToObject(zoneGlobalEventsConfigurationsKeys.map(addArraySymbolFlag)),
        },
        runtime: {
            disable: reduceToObject(zoneRuntimeConfigurationsKeys.map(addSymbolFlag)),
        },
    };
    return {
        ...zoneConfigObj,
        ...convenienceMethods(zoneConfigObj),
    };
}
/**
 * An object for typed zone-flags configuration.
 *
 * @Example
 *
 * create file `zone-flags.ts` parallel to your `polyfills.ts` and insert following content:
 * ```typescript
 * import { globalEvents, xhrEvent, zoneConfig} from '@rx-angular/cdk/zone-flags';
 *
 * zoneConfig.global.disable.requestAnimationFrame();
 * zoneConfig.global.disable.timers();
 * zoneConfig.events.disable.UNPATCHED_EVENTS([...globalEvents, ...xhrEvent]);
 * ```
 * In `polyfills.ts` above the zone import, import `zone-flags.ts`
 *
 * ```typescript
 * import './zone-flags';
 * // Zone JS is required by default for Angular itself.
 * import 'zone.js';
 * ```
 *
 */
export const zoneConfig = createZoneFlagsConfigurator();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiem9uZS1jb25maWcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2Nkay96b25lLWNvbmZpZ3VyYXRpb25zL3NyYy9saWIvem9uZS1jb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDM0QsT0FBTyxFQUVMLG1DQUFtQyxFQUNuQyxrQ0FBa0MsRUFDbEMsb0NBQW9DLEVBQ3BDLDZCQUE2QixFQUM3QixpQ0FBaUMsRUFDakMsa0NBQWtDLEdBQ25DLE1BQU0sOEJBQThCLENBQUM7QUFXdEMsTUFBTSxXQUFXLEdBQUcsaUJBQWlCLENBQUM7QUFDdEMsTUFBTSxVQUFVLEdBQUcsaUJBQWlCLENBQUM7QUFFckM7O0lBRUk7QUFDSixTQUFTLGdCQUFnQjtJQUN2QixJQUFLLE1BQWMsQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDdkMscUJBQXFCO1FBQ3JCLE9BQU8sQ0FBQyxLQUFLLENBQUMsc0RBQXNELENBQUMsQ0FBQztJQUN4RSxDQUFDO0FBQ0gsQ0FBQztBQUVELE1BQU0sY0FBYyxHQUFHLENBQUMsSUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3hDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFO1FBQ1gsZ0JBQWdCLEVBQUUsQ0FBQztRQUNuQixPQUFPLENBQUUsTUFBYyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUN0RCxDQUFDO0NBQ0YsQ0FBQyxDQUFDO0FBRUgsTUFBTSxhQUFhLEdBQUcsQ0FBQyxJQUFZLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDdkMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUU7UUFDWCxnQkFBZ0IsRUFBRSxDQUFDO1FBQ25CLE9BQU8sQ0FBRSxNQUFjLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQ3JELENBQUM7Q0FDRixDQUFDLENBQUM7QUFFSCxNQUFNLGtCQUFrQixHQUFHLENBQUMsSUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzVDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFvQixFQUFFLEVBQUU7UUFDL0IsZ0JBQWdCLEVBQUUsQ0FBQztRQUNuQixNQUFNLENBQUMsR0FBUSxNQUFhLENBQUM7UUFDN0IsT0FBTyxDQUFDLENBQUMsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUc7WUFDN0IsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDcEUsR0FBRyxVQUFVO1NBQ2QsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGLENBQUMsQ0FBQztBQUVILE1BQU0sY0FBYyxHQUFHLENBQUksWUFBbUIsRUFBSyxFQUFFO0lBQ25ELE9BQU8sWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsRUFBRSxHQUFHLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBTyxDQUFDLENBQUM7QUFDNUUsQ0FBQyxDQUFDO0FBRUY7Ozs7Ozs7Ozs7OztHQVlHO0FBQ0gsU0FBUywyQkFBMkI7SUFDbEMsTUFBTSxHQUFHLEdBQUcsVUFBbUQsQ0FBQztJQUNoRSxNQUFNLFdBQVcsR0FBRztRQUNsQixHQUFHO1lBQ0QsR0FBRyxtQ0FBbUM7WUFDdEMsR0FBRyxpQ0FBaUM7U0FDckMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7UUFDbkMsR0FBRztZQUNELEdBQUcsb0NBQW9DO1lBQ3ZDLEdBQUcsa0NBQWtDO1lBQ3JDLEdBQUcsa0NBQWtDO1lBQ3JDLEdBQUcsNkJBQTZCO1NBQ2pDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0tBQ25DLENBQUM7SUFFRiw2Q0FBNkM7SUFDNUMsR0FBa0MsQ0FBQyxzQkFBc0IsR0FBRyxHQUFTLEVBQUU7UUFDdEUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQzNCLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM1QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQztJQUVGLE1BQU0sYUFBYSxHQUE4QjtRQUMvQyxNQUFNLEVBQUU7WUFDTixPQUFPLEVBQUUsY0FBYyxDQUFzQztnQkFDM0QsR0FBRyxtQ0FBbUMsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDO2dCQUMxRCxHQUFHLG9DQUFvQyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7YUFDM0QsQ0FBQztTQUNIO1FBQ0QsSUFBSSxFQUFFO1lBQ0osT0FBTyxFQUFFLGNBQWMsQ0FBb0M7Z0JBQ3pELEdBQUcsaUNBQWlDLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQztnQkFDeEQsR0FBRyxrQ0FBa0MsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDO2FBQ3pELENBQUM7U0FDSDtRQUNELE1BQU0sRUFBRTtZQUNOLE9BQU8sRUFBRSxjQUFjLENBQ3JCLGtDQUFrQyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUMzRDtTQUNGO1FBQ0QsT0FBTyxFQUFFO1lBQ1AsT0FBTyxFQUFFLGNBQWMsQ0FDckIsNkJBQTZCLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUNqRDtTQUNGO0tBQ0YsQ0FBQztJQUVGLE9BQU87UUFDTCxHQUFHLGFBQWE7UUFDaEIsR0FBRyxrQkFBa0IsQ0FBQyxhQUFhLENBQUM7S0FDckMsQ0FBQztBQUNKLENBQUM7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBcUJHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLDJCQUEyQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb252ZW5pZW5jZU1ldGhvZHMgfSBmcm9tICcuL2NvbnZlbmllbmNlLW1ldGhvZHMnO1xuaW1wb3J0IHtcbiAgUnhab25lRmxhZ3NIZWxwZXJGdW5jdGlvbnMsXG4gIHpvbmVHbG9iYWxEaXNhYmxlQ29uZmlndXJhdGlvbnNLZXlzLFxuICB6b25lR2xvYmFsRXZlbnRzQ29uZmlndXJhdGlvbnNLZXlzLFxuICB6b25lR2xvYmFsU2V0dGluZ3NDb25maWd1cmF0aW9uc0tleXMsXG4gIHpvbmVSdW50aW1lQ29uZmlndXJhdGlvbnNLZXlzLFxuICB6b25lVGVzdERpc2FibGVDb25maWd1cmF0aW9uc0tleXMsXG4gIHpvbmVUZXN0U2V0dGluZ3NDb25maWd1cmF0aW9uc0tleXMsXG59IGZyb20gJy4vbW9kZWwvY29uZmlndXJhdGlvbnMudHlwZXMnO1xuaW1wb3J0IHsgUnhab25lR2xvYmFsQ29uZmlndXJhdGlvbnMgfSBmcm9tICcuL21vZGVsL3pvbmUuY29uZmlndXJhdGlvbnMuYXBpJztcbmltcG9ydCB7XG4gIFJ4R2xvYmFsRGlzYWJsZUNvbmZpZ3VyYXRpb25NZXRob2RzLFxuICBSeFJ1bnRpbWVDb25maWd1cmF0aW9uTWV0aG9kcyxcbiAgUnhUZXN0RGlzYWJsZUNvbmZpZ3VyYXRpb25NZXRob2RzLFxuICBSeFpvbmVDb25maWcsXG4gIFJ4Wm9uZUNvbmZpZ0NvbmZpZ3VyYXRpb24sXG4gIFJ4Wm9uZUdsb2JhbEV2ZW50c0NvbmZpZ3VyYXRpb25zTWV0aG9kcyxcbn0gZnJvbSAnLi9tb2RlbC96b25lLWNvbmZpZy50eXBlcyc7XG5cbmNvbnN0IHpvbmVEaXNhYmxlID0gJ19fWm9uZV9kaXNhYmxlXyc7XG5jb25zdCB6b25lU3ltYm9sID0gJ19fem9uZV9zeW1ib2xfXyc7XG5cbi8qKlxuICogaHR0cHM6Ly9hbmd1bGFyLmlvL2d1aWRlL3pvbmUjc2V0dGluZy11cC16b25lanNcbiAqKi9cbmZ1bmN0aW9uIGFzc2VydFpvbmVDb25maWcoKSB7XG4gIGlmICgod2luZG93IGFzIGFueSkuWm9uZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gQFRPRE8gbGluayB0byBkb2NzXG4gICAgY29uc29sZS5lcnJvcignem9uZS1mbGFncyBmaWxlIG5lZWRzIHRvIGdldCBpbXBvcnRlZCBiZWZvcmUgem9uZS5qcycpO1xuICB9XG59XG5cbmNvbnN0IGFkZERpc2FibGVGbGFnID0gKHByb3A6IHN0cmluZykgPT4gKHtcbiAgW3Byb3BdOiAoKSA9PiB7XG4gICAgYXNzZXJ0Wm9uZUNvbmZpZygpO1xuICAgIHJldHVybiAoKHdpbmRvdyBhcyBhbnkpW3pvbmVEaXNhYmxlICsgcHJvcF0gPSB0cnVlKTtcbiAgfSxcbn0pO1xuXG5jb25zdCBhZGRTeW1ib2xGbGFnID0gKHByb3A6IHN0cmluZykgPT4gKHtcbiAgW3Byb3BdOiAoKSA9PiB7XG4gICAgYXNzZXJ0Wm9uZUNvbmZpZygpO1xuICAgIHJldHVybiAoKHdpbmRvdyBhcyBhbnkpW3pvbmVTeW1ib2wgKyBwcm9wXSA9IHRydWUpO1xuICB9LFxufSk7XG5cbmNvbnN0IGFkZEFycmF5U3ltYm9sRmxhZyA9IChwcm9wOiBzdHJpbmcpID0+ICh7XG4gIFtwcm9wXTogKGV2ZW50TmFtZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgYXNzZXJ0Wm9uZUNvbmZpZygpO1xuICAgIGNvbnN0IHc6IGFueSA9IHdpbmRvdyBhcyBhbnk7XG4gICAgcmV0dXJuICh3W3pvbmVTeW1ib2wgKyBwcm9wXSA9IFtcbiAgICAgIC4uLihBcnJheS5pc0FycmF5KHdbem9uZVN5bWJvbCArIHByb3BdKSA/IHdbem9uZVN5bWJvbCArIHByb3BdIDogW10pLFxuICAgICAgLi4uZXZlbnROYW1lcyxcbiAgICBdKTtcbiAgfSxcbn0pO1xuXG5jb25zdCByZWR1Y2VUb09iamVjdCA9IDxUPihtZXRob2RzQXJyYXk6IGFueVtdKTogVCA9PiB7XG4gIHJldHVybiBtZXRob2RzQXJyYXkucmVkdWNlKChtYXAsIGl0ZW0pID0+ICh7IC4uLm1hcCwgLi4uaXRlbSB9KSwge30gYXMgVCk7XG59O1xuXG4vKipcbiAqIGZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIGEgYFJ4Wm9uZUNvbmZpZ2Agb2JqZWN0LlxuICpcbiAqIEBFeGFtcGxlXG4gKiBpbXBvcnQgeyBnbG9iYWxFdmVudHMseGhyRXZlbnQsIHpvbmVDb25maWd9IGZyb20gJ0ByeC1hbmd1bGFyL2Nkay96b25lLWZsYWdzJztcbiAqXG4gKiBjb25zdCB6b25lQ29uZmlnID0gY3JlYXRlWm9uZUZsYWdzQ29uZmlndXJhdG9yKCk7XG4gKlxuICogem9uZUNvbmZpZy5nbG9iYWwuZGlzYWJsZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAqIHpvbmVDb25maWcuZ2xvYmFsLmRpc2FibGUudGltZXJzKCk7XG4gKiB6b25lQ29uZmlnLmV2ZW50cy5kaXNhYmxlLlVOUEFUQ0hFRF9FVkVOVFMoWy4uLmdsb2JhbEV2ZW50cywgLi4ueGhyRXZlbnRdKTtcbiAqXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVpvbmVGbGFnc0NvbmZpZ3VyYXRvcigpOiBSeFpvbmVDb25maWcge1xuICBjb25zdCBjZmcgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgUnhab25lR2xvYmFsQ29uZmlndXJhdGlvbnM7XG4gIGNvbnN0IGNvbmZpZ1Byb3BzID0gW1xuICAgIC4uLltcbiAgICAgIC4uLnpvbmVHbG9iYWxEaXNhYmxlQ29uZmlndXJhdGlvbnNLZXlzLFxuICAgICAgLi4uem9uZVRlc3REaXNhYmxlQ29uZmlndXJhdGlvbnNLZXlzLFxuICAgIF0ubWFwKChwcm9wKSA9PiB6b25lRGlzYWJsZSArIHByb3ApLFxuICAgIC4uLltcbiAgICAgIC4uLnpvbmVHbG9iYWxTZXR0aW5nc0NvbmZpZ3VyYXRpb25zS2V5cyxcbiAgICAgIC4uLnpvbmVUZXN0U2V0dGluZ3NDb25maWd1cmF0aW9uc0tleXMsXG4gICAgICAuLi56b25lR2xvYmFsRXZlbnRzQ29uZmlndXJhdGlvbnNLZXlzLFxuICAgICAgLi4uem9uZVJ1bnRpbWVDb25maWd1cmF0aW9uc0tleXMsXG4gICAgXS5tYXAoKHByb3ApID0+IHpvbmVTeW1ib2wgKyBwcm9wKSxcbiAgXTtcblxuICAvLyBhcHBlbmQgYXMgZ2xvYmFsIG1ldGhvZCBmb3IgZWFzeSBkZWJ1Z2dpbmdcbiAgKGNmZyBhcyBSeFpvbmVGbGFnc0hlbHBlckZ1bmN0aW9ucykuX19yeGFfem9uZV9jb25maWdfX2xvZyA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25maWdQcm9wcy5mb3JFYWNoKChmbGFnKSA9PiB7XG4gICAgICBjZmdbZmxhZ10gJiYgY29uc29sZS5sb2coZmxhZywgY2ZnW2ZsYWddKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB6b25lQ29uZmlnT2JqOiBSeFpvbmVDb25maWdDb25maWd1cmF0aW9uID0ge1xuICAgIGdsb2JhbDoge1xuICAgICAgZGlzYWJsZTogcmVkdWNlVG9PYmplY3Q8UnhHbG9iYWxEaXNhYmxlQ29uZmlndXJhdGlvbk1ldGhvZHM+KFtcbiAgICAgICAgLi4uem9uZUdsb2JhbERpc2FibGVDb25maWd1cmF0aW9uc0tleXMubWFwKGFkZERpc2FibGVGbGFnKSxcbiAgICAgICAgLi4uem9uZUdsb2JhbFNldHRpbmdzQ29uZmlndXJhdGlvbnNLZXlzLm1hcChhZGRTeW1ib2xGbGFnKSxcbiAgICAgIF0pLFxuICAgIH0sXG4gICAgdGVzdDoge1xuICAgICAgZGlzYWJsZTogcmVkdWNlVG9PYmplY3Q8UnhUZXN0RGlzYWJsZUNvbmZpZ3VyYXRpb25NZXRob2RzPihbXG4gICAgICAgIC4uLnpvbmVUZXN0RGlzYWJsZUNvbmZpZ3VyYXRpb25zS2V5cy5tYXAoYWRkRGlzYWJsZUZsYWcpLFxuICAgICAgICAuLi56b25lVGVzdFNldHRpbmdzQ29uZmlndXJhdGlvbnNLZXlzLm1hcChhZGRTeW1ib2xGbGFnKSxcbiAgICAgIF0pLFxuICAgIH0sXG4gICAgZXZlbnRzOiB7XG4gICAgICBkaXNhYmxlOiByZWR1Y2VUb09iamVjdDxSeFpvbmVHbG9iYWxFdmVudHNDb25maWd1cmF0aW9uc01ldGhvZHM+KFxuICAgICAgICB6b25lR2xvYmFsRXZlbnRzQ29uZmlndXJhdGlvbnNLZXlzLm1hcChhZGRBcnJheVN5bWJvbEZsYWcpXG4gICAgICApLFxuICAgIH0sXG4gICAgcnVudGltZToge1xuICAgICAgZGlzYWJsZTogcmVkdWNlVG9PYmplY3Q8UnhSdW50aW1lQ29uZmlndXJhdGlvbk1ldGhvZHM+KFxuICAgICAgICB6b25lUnVudGltZUNvbmZpZ3VyYXRpb25zS2V5cy5tYXAoYWRkU3ltYm9sRmxhZylcbiAgICAgICksXG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIC4uLnpvbmVDb25maWdPYmosXG4gICAgLi4uY29udmVuaWVuY2VNZXRob2RzKHpvbmVDb25maWdPYmopLFxuICB9O1xufVxuXG4vKipcbiAqIEFuIG9iamVjdCBmb3IgdHlwZWQgem9uZS1mbGFncyBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBFeGFtcGxlXG4gKlxuICogY3JlYXRlIGZpbGUgYHpvbmUtZmxhZ3MudHNgIHBhcmFsbGVsIHRvIHlvdXIgYHBvbHlmaWxscy50c2AgYW5kIGluc2VydCBmb2xsb3dpbmcgY29udGVudDpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IGdsb2JhbEV2ZW50cywgeGhyRXZlbnQsIHpvbmVDb25maWd9IGZyb20gJ0ByeC1hbmd1bGFyL2Nkay96b25lLWZsYWdzJztcbiAqXG4gKiB6b25lQ29uZmlnLmdsb2JhbC5kaXNhYmxlLnJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICogem9uZUNvbmZpZy5nbG9iYWwuZGlzYWJsZS50aW1lcnMoKTtcbiAqIHpvbmVDb25maWcuZXZlbnRzLmRpc2FibGUuVU5QQVRDSEVEX0VWRU5UUyhbLi4uZ2xvYmFsRXZlbnRzLCAuLi54aHJFdmVudF0pO1xuICogYGBgXG4gKiBJbiBgcG9seWZpbGxzLnRzYCBhYm92ZSB0aGUgem9uZSBpbXBvcnQsIGltcG9ydCBgem9uZS1mbGFncy50c2BcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgJy4vem9uZS1mbGFncyc7XG4gKiAvLyBab25lIEpTIGlzIHJlcXVpcmVkIGJ5IGRlZmF1bHQgZm9yIEFuZ3VsYXIgaXRzZWxmLlxuICogaW1wb3J0ICd6b25lLmpzJztcbiAqIGBgYFxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IHpvbmVDb25maWcgPSBjcmVhdGVab25lRmxhZ3NDb25maWd1cmF0b3IoKTtcbiJdfQ==