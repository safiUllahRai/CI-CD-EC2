"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAllDecorators = exports.getDecorators = void 0;
const utils_1 = require("ng-morph/utils");
const classes_1 = require("ng-morph/classes");
const methods_1 = require("ng-morph/methods");
const constructors_1 = require("ng-morph/constructors");
const params_1 = require("ng-morph/params");
const properties_1 = require("ng-morph/properties");
const accessors_1 = require("ng-morph/accessors");
function getDecorators(declarations, query) {
    return (0, utils_1.arrayFlat)((0, utils_1.coerceArray)(declarations).map(declaration => declaration.getDecorators())).filter(decorator => (0, utils_1.matchQuery)(decorator.getStructure(), query));
}
exports.getDecorators = getDecorators;
exports.getAllDecorators = (0, utils_1.getDeclarationGetter)(pattern => {
    const classes = (0, classes_1.getClasses)(pattern);
    const methods = (0, methods_1.getMethods)(classes);
    const constructors = (0, constructors_1.getConstructors)(classes);
    const properties = (0, properties_1.getProperties)(classes);
    const constructorParams = (0, params_1.getParams)(constructors);
    const methodParams = (0, params_1.getParams)(methods);
    const accessors = (0, accessors_1.getAccessors)(classes);
    return (0, utils_1.arrayFlat)([classes, methods, properties, constructorParams, methodParams, accessors].map(declarations => getDecorators(declarations)));
});
//# sourceMappingURL=get-decorators.js.map